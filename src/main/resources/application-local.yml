# =======================================================
# í† ë§ˆí† ë¦¬ë©¤ë²„ ë¡œì»¬ ê°œë°œí™˜ê²½ ì„¤ì • (JWT ì¸ì¦ ì‹œìŠ¤í…œ ì¶”ê°€)
# =======================================================

server:
  port: ${SERVER_PORT:8080}  # ê¸°ì¡´ 8032 â†’ í‘œì¤€ 8080ìœ¼ë¡œ ë³€ê²½

spring:
  # =======================================================
  # JPA ì„¤ì • (ë¡œì»¬ ê°œë°œìš©)
  # =======================================================
  jpa:
    hibernate:
#      ddl-auto: create  # ë¡œì»¬ì—ì„œëŠ” ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±
      ddl-auto: update  # ë¡œì»¬ì—ì„œëŠ” ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±
    show-sql: true          # ë¡œì»¬ì—ì„œëŠ” SQL ë¡œê·¸ í™œì„±í™”

  # =======================================================
  # JWT ë³´ì•ˆ ì„¤ì • (ë¡œì»¬ ê°œë°œìš©)
  # =======================================================
  security:
    jwt:
      # ë¡œì»¬ ê°œë°œìš© ì‹œí¬ë¦¿ í‚¤ (Base64 ì¸ì½”ë”©ëœ ê°’)
      admin-secret: bG9jYWxBZG1pblNlY3JldEtleUZvclRvbWF0b1JlbWVtYmVyQWRtaW5Ub2tlbkdlbmVyYXRpb24=
      member-secret: bG9jYWxNZW1iZXJTZWNyZXRLZXlGb3JUb21hdG9SZW1lbWJlck1lbWJlclRva2VuR2VuZXJhdGlvbg==

      # ë¡œì»¬ ê°œë°œìš© í† í° ë§Œë£Œ ì‹œê°„ (í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ ìœ„í•´ ì§§ê²Œ ì„¤ì •)
      access-token-expiration: 36000000000    # 1ì‹œê°„ (ê°œë°œìš©)
      refresh-token-expiration: 86400000  # 1ì¼ (ê°œë°œìš©)
      auto-login-expiration: 604800000    # 1ì£¼ (ê°œë°œìš©)

      # ğŸª ë¡œì»¬ ê°œë°œìš© ì¿ í‚¤ ì„¤ì • (HTTP í—ˆìš©)
      cookie:
        secure: false      # HTTP í—ˆìš© (ë¡œì»¬ì—ì„œëŠ” HTTPS ì—†ìŒ)
        same-site: Lax     # ê°œë°œìš©ìœ¼ë¡œ ì™„í™” (Strict â†’ Lax)
        # domainì€ ì„¤ì •í•˜ì§€ ì•ŠìŒ (localhostëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©)

  # =======================================================
  # ë°ì´í„°ì†ŒìŠ¤ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ê¸°ë°˜)
  # =======================================================
  datasource:
    url: ${DB_URL:jdbc:log4jdbc:mariadb://localhost:3307/remember}  # DBëª… ë³€ê²½
    driver-class-name: net.sf.log4jdbc.sql.jdbcapi.DriverSpy
    username: ${DB_ID:root}
    password: ${DB_PW:root}
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 10
      minimum-idle: 1
      connection-test-query: SELECT 1
      idle-timeout: 600000
      pool-name: ${spring.application.name}-pool
  # =======================================================
  # redis í™˜ê²½ë³„ ì„¤ì •
  # =======================================================
  data:
    redis:
      host: localhost
      port: 6379
      database: 0
      timeout: 2000ms
      lettuce:
        pool:
          max-active: 8
          max-wait: -1ms
          max-idle: 8
          min-idle: 0
  # =======================================================
  # íŒŒì¼ ì—…ë¡œë“œ/í‘œì‹œ ì„¤ì • (ê¸°ì¡´ FTP â†’ ë¡œì»¬ íŒŒì¼ì‹œìŠ¤í…œ)
  # =======================================================
app:
  file:
    upload-dir: ./uploads
    base-url: http://192.168.20.22:8080
  external-api:
    video:
      base-url: https://remember.newstomato.com/
      process-endpoint: /downvideo-v2
      timeout: 30
      retry-count: 3

# =======================================================
# Google ì„œë¹„ìŠ¤ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
# =======================================================
google:
  key-path:
    console: ${GOOGLE_CONSOLE_KEY:/google/pc-api-6501066511374588335-380-1ad7a0f489f4.json}
    firebase: ${GOOGLE_FIREBASE_KEY:/firebase/dev-bread-4908a-firebase-adminsdk-cp247-2bc9dd1010.json}
# =======================================================
# ìŠ¤ì›¨ê±° í™˜ê²½ë³„ ì„¤ì •
# =======================================================
springdoc:
  swagger-ui:
    enabled: true
    # ë¡œì»¬ ê°œë°œ ì‹œ ì¶”ê°€ ì„¤ì •
    deep-linking: true
    display-operation-id: true
    show-extensions: true


