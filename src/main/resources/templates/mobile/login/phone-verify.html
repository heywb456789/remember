<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <meta name="format-detection" content="telephone=no"/>
  <title th:text="${pageTitle} ?: 'í•¸ë“œí° ì¸ì¦ - í† ë§ˆí† ë¦¬ë©¤ë²„'">í•¸ë“œí° ì¸ì¦ - í† ë§ˆí† ë¦¬ë©¤ë²„</title>

  <!-- Bootstrap CSS -->
  <link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet"/>

  <!-- Custom CSS -->
  <link th:href="@{/assets/mobile/css/phone-verify.css}" rel="stylesheet"/>
</head>
<body>
  <div class="phone-verify-container">
    <!-- í—¤ë” -->
    <div class="phone-verify-header">
      <div class="header-left">
        <button class="back-button" onclick="history.back()" aria-label="ë’¤ë¡œê°€ê¸°">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
      </div>

      <div class="header-center">
<!--        <img th:src="@{/images/etomato_title.png}" alt="ETomato" class="etomato-logo">-->
        <img th:src="@{/images/new_main_logo.png}" alt="ETomato" class="etomato-logo">
        <h1 class="page-title">OneID íšŒì›ê°€ì…</h1>
      </div>

      <div class="header-right">
        <!-- ì˜¤ë¥¸ìª½ ê³µê°„ í™•ë³´ìš© -->
      </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="phone-verify-content">
      <!-- ì›°ì»´ ë©”ì‹œì§€ -->
      <div class="welcome-section">
        <h2 class="welcome-title">ì¦ê¶Œí†µ, ë‰´ìŠ¤í†µ, í†µí†µ ë“± í† ë§ˆí† ê·¸ë£¹ì˜ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ One-ID í•˜ë‚˜ë¡œ í¸ë¦¬í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h2>
      </div>

      <!-- ê·¸ë£¹ì‚¬ ë¡œê³  ì„¹ì…˜ -->
      <div class="company-logos-section">
        <div class="logos-container">
          <img th:src="@{/images/signup_middle.png}" alt="í† ë§ˆí† ê·¸ë£¹ ì„œë¹„ìŠ¤" class="group-logo">
        </div>
      </div>

      <!-- í•¸ë“œí° ë²ˆí˜¸ ì…ë ¥ í¼ -->
      <div class="form-section">
        <div class="form-group">
          <div class="phone-input-row">
            <select class="country-select" id="countryCode">
              <option value="+82">ğŸ‡°ğŸ‡· +82</option>
              <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
              <option value="+81">ğŸ‡¯ğŸ‡µ +81</option>
              <option value="+86">ğŸ‡¨ğŸ‡³ +86</option>
            </select>
            <input type="tel"
                   class="phone-input"
                   id="phoneNumber"
                   placeholder="í† ë§ˆí† ONE-ID(ëŒ€í‘œë²ˆí˜¸)"
                   maxlength="15"
                   autocomplete="tel">
            <button type="button" class="verify-button" id="verifyRequestButton">
              <span class="button-text">ì¸ì¦ë²ˆí˜¸ ë°›ê¸°</span>
              <div class="button-loading" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 12a9 9 0 11-6.219-8.56"/>
                </svg>
              </div>
            </button>
          </div>
        </div>

        <!-- ì¸ì¦ë²ˆí˜¸ ì…ë ¥ ì„¹ì…˜ (ì²˜ìŒì—ëŠ” ìˆ¨ê¹€) -->
        <div class="form-group verification-group" id="verificationSection" style="display: none;">
          <div class="verification-input-row">
            <input type="text"
                   class="verification-input"
                   id="verificationCode"
                   placeholder="ì¸ì¦ë²ˆí˜¸ ì…ë ¥"
                   maxlength="6">
            <button type="button" class="confirm-button" id="confirmButton">
              <span>í™•ì¸</span>
            </button>
          </div>
          <div class="timer-container">
            <span class="timer" id="timer">03:00</span>
          </div>
        </div>
      </div>

      <!-- ë‹¤ìŒ ë²„íŠ¼ -->
      <button type="button" class="next-button" id="nextButton" disabled>
        <span>ë‹¤ìŒ</span>
      </button>
    </div>
  </div>

  <!-- ì•Œë¦¼ ëª¨ë‹¬ -->
  <div class="modal-overlay" id="alertModal" style="display: none;">
    <div class="modal-container">
      <div class="modal-header">
        <h3 class="modal-title">ì•Œë¦¼</h3>
      </div>
      <div class="modal-body">
        <p id="alertMessage">ë©”ì‹œì§€</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="modal-confirm-button" id="alertConfirm">
          <span>í™•ì¸</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script th:src="@{/bootstrap/js/bootstrap.bundle.js}"></script>

  <!-- í•¸ë“œí° ì¸ì¦ JavaScript -->
  <script type="module" th:src="@{/assets/mobile/js/phone-verify.js}"></script>

  <!-- ì „ì—­ ì„¤ì • -->
  <script th:inline="javascript">
    // API ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •
    window.API_ENDPOINTS = {
      SMS_SEND: /*[[${smsVerifyApiUrl}]]*/ '/api/auth/sms/send',
      SMS_VERIFY: /*[[${smsConfirmApiUrl}]]*/ '/api/auth/sms/verify'
    };

    // í˜ì´ì§€ ì„¤ì •
    window.PAGE_CONFIG = {
      prevUrl: /*[[${prevUrl}]]*/ '/mobile/register',
      nextUrl: /*[[${nextUrl}]]*/ '/mobile/register/password'
    };

    console.log('ğŸ”§ Phone verify page config loaded');
  </script>
</body>
</html>