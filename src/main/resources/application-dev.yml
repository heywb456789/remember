# =======================================================
# í† ë§ˆí† ë¦¬ë©¤ë²„ ê°œë°œì„œë²„ í™˜ê²½ ì„¤ì • (JWT ì¸ì¦ ì‹œìŠ¤í…œ ì¶”ê°€)
# =======================================================

server:
  port: ${SERVER_PORT:8096}  # ê¸°ì¡´ ì„¤ì • ìœ ì§€
  servlet:
    session:
      cookie:
        secure: false

spring:
  # =======================================================
  # JPA ì„¤ì • (ê°œë°œì„œë²„ìš©)
  # =======================================================
  jpa:
    hibernate:
      ddl-auto: validate  # ê¸°ì¡´ ì„¤ì • ìœ ì§€ (ìŠ¤í‚¤ë§ˆ ê²€ì¦ë§Œ)
    show-sql: false       # ê°œë°œì„œë²„ì—ì„œëŠ” SQL ë¡œê·¸ ë¹„í™œì„±í™”

  # =======================================================
  # ğŸ” JWT ë³´ì•ˆ ì„¤ì • (ê°œë°œì„œë²„ìš©)
  # =======================================================
  security:
    jwt:
      # ê°œë°œì„œë²„ìš© ì‹œí¬ë¦¿ í‚¤ (ìš´ì˜ê³¼ ë‹¤ë¥¸ í‚¤ ì‚¬ìš©)
      admin-secret: ZGV2QWRtaW5TZWNyZXRLZXlGb3JUb21hdG9SZW1lbWJlckFkbWluVG9rZW5HZW5lcmF0aW9uRGV2
      member-secret: ZGV2TWVtYmVyU2VjcmV0S2V5Rm9yVG9tYXRvUmVtZW1iZXJNZW1iZXJUb2tlbkdlbmVyYXRpb25EZXY=

      # ê°œë°œì„œë²„ìš© í† í° ë§Œë£Œ ì‹œê°„
      access-token-expiration: 7200000     # 2ì‹œê°„ (ê°œë°œì„œë²„ìš©)
      refresh-token-expiration: 604800000  # 1ì£¼ (ê°œë°œì„œë²„ìš©)
      auto-login-expiration: 2592000000    # 1ê°œì›” (ê°œë°œì„œë²„ìš©)

      # ğŸª ê°œë°œì„œë²„ìš© ì¿ í‚¤ ì„¤ì •
      cookie:
        member:
          domain: .newstomato.com  # ê°œë°œ ë„ë©”ì¸
          secure: false            # ê°œë°œì„œë²„ëŠ” HTTP ì‚¬ìš©
          same-site: Lax
        admin:
          domain: .newstomato.com
          secure: false
          same-site: Lax

  # =======================================================
  # ë°ì´í„°ì†ŒìŠ¤ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
  # =======================================================
  datasource:
    url: ${DB_URL:jdbc:log4jdbc:mariadb://127.0.0.1:3306/tomato_remember}  # DBëª…ë§Œ ë³€ê²½
    driver-class-name: net.sf.log4jdbc.sql.jdbcapi.DriverSpy
    username: ${DB_ID:aml60}
    password: ${DB_PW:aml60}
    hikari:
      connection-timeout: 30000
      maximum-pool-size: 10
      minimum-idle: 1
      connection-test-query: SELECT 1
      idle-timeout: 600000
      pool-name: ${spring.application.name}-pool

  # =======================================================
  # íŒŒì¼ ì—…ë¡œë“œ/í‘œì‹œ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
  # =======================================================
  app:
    display: https://image.newstomato.com/newstomato/club
    upload:
      root: /test
      ftp:
        host: 1.201.174.63
        port: 21
        user: tomatochain
        password: tomatochain1!

# =======================================================
# ğŸ” í† ë§ˆí† ë¦¬ë©¤ë²„ ê°œë°œì„œë²„ ë³´ì•ˆ ì„¤ì •
# =======================================================
tomato-remember:
  security:
    # CORS ì„¤ì • (ê°œë°œì„œë²„ìš©)
    cors:
      allowed-origins:
        - http://114.31.52.64:8096
        - https://dev-remember.newstomato.com
        - http://localhost:3000  # ë¡œì»¬ ê°œë°œ ì§€ì›
      allow-credentials: true

# =======================================================
# Google ì„œë¹„ìŠ¤ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
# =======================================================
google:
  key-path:
    console: /google/pc-api-6501066511374588335-380-1ad7a0f489f4.json
    firebase: /firebase/dev-bread-4908a-firebase-adminsdk-cp247-2bc9dd1010.json

# =======================================================
# NICE ë³¸ì¸ì¸ì¦ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
# =======================================================
nice:
  call-back: http://114.31.52.64:8096/api/auth/pass/callback

# =======================================================
# ë³µì œ ì„¤ì • (ê¸°ì¡´ ì„¤ì • ìœ ì§€)
# =======================================================
original:
  replication: false

# =======================================================
# ê°œë°œì„œë²„ ë¡œê¹… ì„¤ì • (JWT ì¸ì¦ ë¡œê¹… ì¶”ê°€)
# =======================================================
logging:
  level:
    com.tomato.remember: INFO
    org.springframework.web: INFO
    org.springframework.security: INFO
    # JWT ì¸ì¦ ê´€ë ¨ ë¡œê¹… (ê°œë°œì„œë²„ì—ì„œëŠ” ì¤‘ê°„ ë ˆë²¨)
    com.tomato.remember.common.security: DEBUG
    com.tomato.remember.common.util.CookieUtil: DEBUG

# =======================================================
# ê°œë°œì„œë²„ìš© JWT ì„¤ì •
# =======================================================
debug:
  jwt:
    enabled: false  # ê°œë°œì„œë²„ì—ì„œëŠ” JWT ë””ë²„ê¹… ë¹„í™œì„±í™”
    print-claims: false
    print-headers: false